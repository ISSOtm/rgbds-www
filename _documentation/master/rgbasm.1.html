---
layout: doc
title: rgbasm(1) [master]
description: RGBDS master â€” Game Boy assembler
---
<table class="head">
  <tr>
    <td class="head-ltitle">RGBASM(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">RGBASM(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b class="Nm" title="Nm">rgbasm</b> &#x2014; <span class="Nd" title="Nd">Game
  Boy assembler</span>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><b class="Nm" title="Nm">rgbasm</b></td>
    <td>[<span class="Op"><b class="Fl" title="Fl">-EhLVvw</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-b</b>
      <var class="Ar" title="Ar">chars</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-D</b>
      <var class="Ar" title="Ar">name</var>[<span class="Op">=<var class="Ar" title="Ar">value</var></span>]</span>]
      [<span class="Op"><b class="Fl" title="Fl">-g</b>
      <var class="Ar" title="Ar">chars</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-i</b>
      <var class="Ar" title="Ar">path</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-M</b>
      <var class="Ar" title="Ar">depend_file</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-MG</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-MP</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-MT</b>
      <var class="Ar" title="Ar">target_file</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-MQ</b>
      <var class="Ar" title="Ar">target_file</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-o</b>
      <var class="Ar" title="Ar">out_file</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-p</b>
      <var class="Ar" title="Ar">pad_value</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-r</b>
      <var class="Ar" title="Ar">recursion_depth</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-W</b>
      <var class="Ar" title="Ar">warning</var></span>]
      <var class="Ar" title="Ar">file ...</var></td>
  </tr>
</table>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b class="Nm" title="Nm">rgbasm</b> program creates an RGB object file from
  an assembly source file. The input <var class="Ar" title="Ar">file</var> can
  be a file path, or <b class="Cm" title="Cm">-</b> denoting
  <b class="Cm" title="Cm">stdin</b>.
<div class="Pp"></div>
Note that options can be abbreviated as long as the abbreviation is unambiguous:
  <b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-verb</b> is
  <b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-verbose</b>, but
  <b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-ver</b> is invalid
  because it could also be
  <b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-version</b>. The
  arguments are as follows:
<dl class="Bl-tag">
  <dt class="It-tag"><a class="selflink" href="#b"><b class="Fl" title="Fl" id="b">-b</b></a>
    <var class="Ar" title="Ar">chars</var>,
    <b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-binary-digits</b>
    <var class="Ar" title="Ar">chars</var></dt>
  <dd class="It-tag">Change the two characters used for binary constants. The
      defaults are 01.</dd>
  <dt class="It-tag"><a class="selflink" href="#D"><b class="Fl" title="Fl" id="D">-D</b></a>
    <var class="Ar" title="Ar">name</var>[<span class="Op">=<var class="Ar" title="Ar">value</var></span>],
    <b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-define</b>
    <var class="Ar" title="Ar">name</var>[<span class="Op">=<var class="Ar" title="Ar">value</var></span>]</dt>
  <dd class="It-tag">Add a string symbol to the compiled source code. This is
      equivalent to
      &#x2018;<code class="Li"><var class="Ar" title="Ar">name</var>
      <b class="Ic" title="Ic">EQUS
      &quot;</b><var class="Ar" title="Ar">value</var>&quot;</code>&#x2019; in
      code, or &#x2018;<code class="Li"><var class="Ar" title="Ar">name</var>
      <b class="Ic" title="Ic">EQUS &quot;1&quot;</b></code>&#x2019; if
      <var class="Ar" title="Ar">value</var> is not specified.</dd>
  <dt class="It-tag"><a class="selflink" href="#E"><b class="Fl" title="Fl" id="E">-E</b></a>,
    <b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-export-all</b></dt>
  <dd class="It-tag">Export all labels, including unreferenced and local
    labels.</dd>
  <dt class="It-tag"><a class="selflink" href="#g"><b class="Fl" title="Fl" id="g">-g</b></a>
    <var class="Ar" title="Ar">chars</var>,
    <b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-gfx-chars</b>
    <var class="Ar" title="Ar">chars</var></dt>
  <dd class="It-tag">Change the four characters used for gfx constants. The
      defaults are 0123.</dd>
  <dt class="It-tag"><a class="selflink" href="#h"><b class="Fl" title="Fl" id="h">-h</b></a>,
    <b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-halt-without-nop</b></dt>
  <dd class="It-tag">By default, <b class="Nm" title="Nm">rgbasm</b> inserts a
      <b class="Ic" title="Ic">nop</b> instruction immediately after any
      <b class="Ic" title="Ic">halt</b> instruction. The
      <b class="Fl" title="Fl">-h</b> option disables this behavior.</dd>
  <dt class="It-tag"><a class="selflink" href="#i"><b class="Fl" title="Fl" id="i">-i</b></a>
    <var class="Ar" title="Ar">path</var>,
    <b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-include</b>
    <var class="Ar" title="Ar">path</var></dt>
  <dd class="It-tag">Add an include path.</dd>
  <dt class="It-tag"><a class="selflink" href="#L"><b class="Fl" title="Fl" id="L">-L</b></a>,
    <b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-preserve-ld</b></dt>
  <dd class="It-tag">Disable the optimization that turns loads of the form
      <b class="Ic" title="Ic">LD [$FF00+n8],A</b> into the opcode
      <b class="Ic" title="Ic">LDH [$FF00+n8],A</b> in order to have full
      control of the result in the final ROM.</dd>
  <dt class="It-tag"><a class="selflink" href="#M"><b class="Fl" title="Fl" id="M">-M</b></a>
    <var class="Ar" title="Ar">depend_file</var>,
    <b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-dependfile</b>
    <var class="Ar" title="Ar">depend_file</var></dt>
  <dd class="It-tag">Print <a class="Xr" title="Xr">make(1)</a> dependencies to
      <var class="Ar" title="Ar">depend_file</var>.</dd>
  <dt class="It-tag"><a class="selflink" href="#MG"><b class="Fl" title="Fl" id="MG">-MG</b></a></dt>
  <dd class="It-tag">To be used in conjunction with
      <b class="Fl" title="Fl">-M</b>. This makes
      <b class="Nm" title="Nm">rgbasm</b> assume that missing files are
      auto-generated: when <b class="Ic" title="Ic">INCLUDE</b> or
      <b class="Ic" title="Ic">INCBIN</b> is attempted on a non-existent file,
      it is added as a dependency, then <b class="Nm" title="Nm">rgbasm</b>
      exits normally instead of erroring out. This feature is used in automatic
      updating of makefiles.</dd>
  <dt class="It-tag"><a class="selflink" href="#MP"><b class="Fl" title="Fl" id="MP">-MP</b></a></dt>
  <dd class="It-tag">When enabled, this causes a phony target to be added for
      each dependency other than the main file. This prevents
      <a class="Xr" title="Xr">make(1)</a> from erroring out when dependency
      files are deleted.</dd>
  <dt class="It-tag"><a class="selflink" href="#MT"><b class="Fl" title="Fl" id="MT">-MT</b></a>
    <var class="Ar" title="Ar">target_file</var></dt>
  <dd class="It-tag">Add a target to the rules emitted by
      <b class="Fl" title="Fl">-M</b>. The exact string provided will be
      written, including spaces and special characters.
    <div class="D1"><code class="Li"><b class="Fl" title="Fl">-MT</b>
      <b class="Fl" title="Fl">-fileA</b> <b class="Fl" title="Fl">-MT</b>
      <b class="Fl" title="Fl">-fileB</b></code></div>
    is equivalent to
    <div class="D1"><code class="Li"><b class="Fl" title="Fl">-MT</b>
      <b class="Fl" title="Fl">-'fileA</b>
      <b class="Fl" title="Fl">-fileB'</b>.</code></div>
    If neither this nor <b class="Fl" title="Fl">-MQ</b> is specified, the
      output file name is used.</dd>
  <dt class="It-tag"><a class="selflink" href="#MQ"><b class="Fl" title="Fl" id="MQ">-MQ</b></a>
    <var class="Ar" title="Ar">target_file</var></dt>
  <dd class="It-tag">Same as <b class="Fl" title="Fl">-MT</b>, but additionally
      escapes any special <a class="Xr" title="Xr">make(1)</a> characters,
      essentially &#x2018;$&#x2019;.</dd>
  <dt class="It-tag"><a class="selflink" href="#o"><b class="Fl" title="Fl" id="o">-o</b></a>
    <var class="Ar" title="Ar">out_file</var>,
    <b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-output</b>
    <var class="Ar" title="Ar">out_file</var></dt>
  <dd class="It-tag">Write an object file to the given filename.</dd>
  <dt class="It-tag"><a class="selflink" href="#p"><b class="Fl" title="Fl" id="p">-p</b></a>
    <var class="Ar" title="Ar">pad_value</var>,
    <b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-pad-value</b>
    <var class="Ar" title="Ar">pad_value</var></dt>
  <dd class="It-tag">When padding an image, pad with this value. The default is
      0x00.</dd>
  <dt class="It-tag"><a class="selflink" href="#r"><b class="Fl" title="Fl" id="r">-r</b></a>
    <var class="Ar" title="Ar">recursion_depth</var>,
    <b class="Fl" title="Fl">-</b> <b class="Fl" title="Fl">-recursion-depth</b>
    <var class="Ar" title="Ar">recursion_depth</var></dt>
  <dd class="It-tag">Specifies the recursion depth at which RGBASM will assume
      being in an infinite loop.</dd>
  <dt class="It-tag"><a class="selflink" href="#V"><b class="Fl" title="Fl" id="V">-V</b></a>,
    <b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-version</b></dt>
  <dd class="It-tag">Print the version of the program and exit.</dd>
  <dt class="It-tag"><a class="selflink" href="#v"><b class="Fl" title="Fl" id="v">-v</b></a>,
    <b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-verbose</b></dt>
  <dd class="It-tag">Be verbose.</dd>
  <dt class="It-tag"><a class="selflink" href="#W"><b class="Fl" title="Fl" id="W">-W</b></a>
    <var class="Ar" title="Ar">warning</var>,
    <b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-warning</b>
    <var class="Ar" title="Ar">warning</var></dt>
  <dd class="It-tag">Set warning flag <var class="Ar" title="Ar">warning</var>.
      A warning message will be printed if
      <var class="Ar" title="Ar">warning</var> is an unknown warning flag. See
      the <a class="Sx" title="Sx" href="#DIAGNOSTICS">DIAGNOSTICS</a> section
      for a list of warnings.</dd>
  <dt class="It-tag"><a class="selflink" href="#w"><b class="Fl" title="Fl" id="w">-w</b></a></dt>
  <dd class="It-tag">Disable all warning output, even when turned into
    errors.</dd>
</dl>
<h1 class="Sh" title="Sh" id="DIAGNOSTICS"><a class="selflink" href="#DIAGNOSTICS">DIAGNOSTICS</a></h1>
Warnings are diagnostic messages that indicate possibly erroneous behavior that
  does not necessarily compromise the assembling process. The following options
  alter the way warnings are processed.
<dl class="Bl-tag">
  <dt class="It-tag"><a class="selflink" href="#Werror"><b class="Fl" title="Fl" id="Werror">-Werror</b></a></dt>
  <dd class="It-tag">Make all warnings into errors.</dd>
  <dt class="It-tag"><a class="selflink" href="#Werror="><b class="Fl" title="Fl" id="Werror=">-Werror=</b></a></dt>
  <dd class="It-tag">Make the specified warning into an error. A warning's name
      is appended (example: <b class="Fl" title="Fl">-Werror=obsolete</b>), and
      this warning is implicitly enabled and turned into an error. This is an
      error if used with a meta warning, such as
      <b class="Fl" title="Fl">-Werror=all</b>.</dd>
</dl>
<div class="Pp"></div>
The following warnings are &#x201C;meta&#x201D; warnings, that enable a
  collection of other warnings. If a specific warning is toggled via a meta flag
  and a specific one, the more specific one takes priority. The position on the
  command-line acts as a tie breaker, the last one taking effect.
<dl class="Bl-tag">
  <dt class="It-tag"><a class="selflink" href="#Wall"><b class="Fl" title="Fl" id="Wall">-Wall</b></a></dt>
  <dd class="It-tag">This enables warnings that are likely to indicate an error
      or undesired behavior, and that can easily be fixed.</dd>
  <dt class="It-tag"><a class="selflink" href="#Wextra"><b class="Fl" title="Fl" id="Wextra">-Wextra</b></a></dt>
  <dd class="It-tag">This enables extra warnings that are less likely to pose a
      problem, but that may still be wanted.</dd>
  <dt class="It-tag"><a class="selflink" href="#Weverything"><b class="Fl" title="Fl" id="Weverything">-Weverything</b></a></dt>
  <dd class="It-tag">Enables literally every warning.</dd>
</dl>
<div class="Pp"></div>
The following warnings are actual warning flags; with each description, the
  corresponding warning flag is included. Note that each of these flag also has
  a negation (for example, <b class="Fl" title="Fl">-Wempty-entry</b> enables
  the warning that <b class="Fl" title="Fl">-Wno-empty-entry</b> disables). Only
  the non-default flag is listed here. Ignoring the &#x201C;no-&#x201D; prefix,
  entries are listed alphabetically.
<dl class="Bl-tag">
  <dt class="It-tag"><a class="selflink" href="#Wno-assert"><b class="Fl" title="Fl" id="Wno-assert">-Wno-assert</b></a></dt>
  <dd class="It-tag">Warns when
      <b class="Ic" title="Ic">WARN</b><span class="No">-type</span> assertions
      fail. (See &#x201C;Aborting the assembly process&#x201D; in
      <a class="Xr" title="Xr">rgbasm(5)</a> for
      <b class="Ic" title="Ic">ASSERT</b>).</dd>
  <dt class="It-tag"><a class="selflink" href="#Wbuiltin-args"><b class="Fl" title="Fl" id="Wbuiltin-args">-Wbuiltin-args</b></a></dt>
  <dd class="It-tag">Warn about incorrect arguments to built-in functions, such
      as <b class="Fn" title="Fn">STRSUB</b>() with indexes outside of the
      string's bounds. This warning is enabled by
      <b class="Fl" title="Fl">-Wall</b>.</dd>
  <dt class="It-tag"><a class="selflink" href="#Wdiv"><b class="Fl" title="Fl" id="Wdiv">-Wdiv</b></a></dt>
  <dd class="It-tag">Warn when dividing the smallest negative integer by -1,
      which yields itself due to integer overflow.</dd>
  <dt class="It-tag"><a class="selflink" href="#Wempty-entry"><b class="Fl" title="Fl" id="Wempty-entry">-Wempty-entry</b></a></dt>
  <dd class="It-tag">Warn when an empty entry is encountered in a
      <b class="Ic" title="Ic">db</b>, <b class="Ic" title="Ic">dw</b>,
      <b class="Ic" title="Ic">dl</b> list. This warning is enabled by
      <b class="Fl" title="Fl">-Wextra</b>.</dd>
  <dt class="It-tag"><a class="selflink" href="#Wlarge-constant"><b class="Fl" title="Fl" id="Wlarge-constant">-Wlarge-constant</b></a></dt>
  <dd class="It-tag">Warn when a constant too large to fit in a signed 32-bit
      integer is encountered. This warning is enabled by
      <b class="Fl" title="Fl">-Wall</b>.</dd>
  <dt class="It-tag"><a class="selflink" href="#Wlong-string"><b class="Fl" title="Fl" id="Wlong-string">-Wlong-string</b></a></dt>
  <dd class="It-tag">Warn when a string too long to fit in internal buffers is
      encountered. This warning is enabled by
      <b class="Fl" title="Fl">-Wall</b>.</dd>
  <dt class="It-tag"><a class="selflink" href="#Wno-obsolete"><b class="Fl" title="Fl" id="Wno-obsolete">-Wno-obsolete</b></a></dt>
  <dd class="It-tag">Warn when obsolete constructs such as the
      <b class="Ic" title="Ic">jp [hl]</b> instruction or
      <b class="Ic" title="Ic">HOME</b> section type are encountered.</dd>
  <dt class="It-tag"><a class="selflink" href="#Wshift"><b class="Fl" title="Fl" id="Wshift">-Wshift</b></a></dt>
  <dd class="It-tag">Warn when shifting right a negative value. Use a division
      by 2^N instead.</dd>
  <dt class="It-tag"><a class="selflink" href="#Wshift-amount"><b class="Fl" title="Fl" id="Wshift-amount">-Wshift-amount</b></a></dt>
  <dd class="It-tag">Warn when a shift's operand is negative or greater than
    32.</dd>
  <dt class="It-tag"><a class="selflink" href="#Wno-truncation"><b class="Fl" title="Fl" id="Wno-truncation">-Wno-truncation</b></a></dt>
  <dd class="It-tag">Warn when an implicit truncation (for example,
      <b class="Ic" title="Ic">db</b>) loses some bits.</dd>
  <dt class="It-tag"><a class="selflink" href="#Wno-user"><b class="Fl" title="Fl" id="Wno-user">-Wno-user</b></a></dt>
  <dd class="It-tag">Warn when the <b class="Ic" title="Ic">WARN</b> built-in is
      executed. (See &#x201C;Aborting the assembly process&#x201D; in
      <a class="Xr" title="Xr">rgbasm(5)</a> for
      <b class="Ic" title="Ic">WARN</b>).</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
You can assemble a source file in two ways.
<div class="Pp"></div>
Straightforward way:
<div class="D1"><code class="Li">$ rgbasm -o bar.o foo.asm</code></div>
<div class="Pp"></div>
Pipes way:
<div class="D1"><code class="Li">$ cat foo.asm | rgbasm -o bar.o -</code></div>
<div class="D1"><code class="Li">$ rgbasm -o bar.o - &lt; foo.asm</code></div>
<div class="Pp"></div>
The resulting object file is not yet a usable ROM image&#x2014;it must first be
  run through <a class="Xr" title="Xr">rgblink(1)</a> and then
  <a class="Xr" title="Xr">rgbfix(1)</a>.
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
Please report bugs on
  <a class="Lk" title="Lk" href="https://github.com/rednex/rgbds/issues">GitHub</a>.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<a class="Xr" title="Xr">rgbasm(5)</a>, <a class="Xr" title="Xr">rgbfix(1)</a>,
  <a class="Xr" title="Xr">rgblink(1)</a>,
  <a class="Xr" title="Xr">rgbds(5)</a>, <a class="Xr" title="Xr">rgbds(7)</a>,
  <a class="Xr" title="Xr">gbz80(7)</a>
<h1 class="Sh" title="Sh" id="HISTORY"><a class="selflink" href="#HISTORY">HISTORY</a></h1>
<b class="Nm" title="Nm">rgbasm</b> was originally written by Carsten
  S&#x00F8;rensen as part of the ASMotor package, and was later packaged in
  RGBDS by Justin Lloyd. It is now maintained by a number of contributors at
  <a class="Lk" title="Lk" href="https://github.com/rednex/rgbds">https://github.com/rednex/rgbds</a>.</div>
<table class="foot">
  <tr>
    <td class="foot-date">July 8, 2019</td>
    <td class="foot-os">Debian</td>
  </tr>
</table>
